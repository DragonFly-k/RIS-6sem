CREATE USER PVV IDENTIFIED BY 1111;
GRANT ALL PRIVILEGES TO PVV;

--drop table PVV_T
CREATE TABLE PVV_T
(
  x int primary key
);

--drop database link PPP_DB
CREATE DATABASE LINK PPP_DB 
   CONNECT TO PPP
   IDENTIFIED BY PPP
   USING 'DESKTOP-C:1521/orcl';
   
--INSERT/INSERT
BEGIN
	INSERT INTO PVV_T VALUES(1);
	INSERT INTO XXX@PPP_DB VALUES(1);
	COMMIT;
END;
SELECT * FROM PVV_T;
SELECT * FROM XXX@PPP_DB;

--INSERT/UPDATE
BEGIN
	INSERT INTO PVV_T VALUES(2);
	UPDATE XXX@PPP_DB set x = 2 where x = 1;
	COMMIT;
END;
SELECT * FROM PVV_T;
SELECT * FROM XXX@PPP_DB;

--UPDATE/INSERT
BEGIN
	UPDATE PVV_T SET X = 3 WHERE X = 1;
	INSERT INTO XXX@PPP_DB VALUES(3);
	COMMIT;
END;
SELECT * FROM PVV_T;
SELECT * FROM XXX@PPP_DB;

--?????????? ??????????? ??????????? ?? ??????? ?????????? ???????
BEGIN
	INSERT INTO PVV_T VALUES(4);
	INSERT INTO XXX@PPP_DB VALUES(3);
COMMIT;
END;

--????????????? ? ????? ???????, ???????????? ??????? ?? ????????? ???????.
--TODO:
BEGIN
  INSERT INTO PVV_T VALUES(4);
	INSERT INTO XXX@PPP_DB VALUES(3);
END

